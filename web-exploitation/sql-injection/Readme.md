# Penjelasan SQL Injection

## Apa itu SQL Injection?

**SQL Injection (SQLi)** adalah teknik serangan keamanan aplikasi web di mana penyerang menyisipkan perintah SQL berbahaya ke dalam input aplikasi (seperti form login, URL, atau parameter pencarian) dengan tujuan memanipulasi database di belakang aplikasi tersebut. Jika aplikasi tidak memvalidasi atau membersihkan input dengan benar, penyerang dapat membaca, mengubah, atau bahkan menghapus data sensitif.

## Bagaimana SQL Injection Terjadi?

SQL Injection terjadi ketika aplikasi web membangun query SQL secara dinamis menggunakan input pengguna tanpa melakukan validasi atau sanitasi yang memadai. Contoh kode rentan:

```php
// Contoh kode PHP rentan SQLi
$username = $_GET['username'];
$query = "SELECT * FROM users WHERE username = '$username'";
```

Jika penyerang mengisi `username` dengan `' OR 1=1--`, maka query menjadi:

```sql
SELECT * FROM users WHERE username = '' OR 1=1--'
```

Query ini akan mengembalikan semua data user.

## Dampak SQL Injection

- **Kebocoran data:** Penyerang dapat membaca seluruh isi database.
- **Bypass autentikasi:** Login tanpa kredensial yang valid.
- **Modifikasi data:** Mengubah, menambah, atau menghapus data.
- **Eksekusi perintah sistem:** Pada beberapa DBMS, penyerang bisa menjalankan perintah OS.
- **Pengambilalihan server:** Jika digabung dengan kerentanan lain.

## Jenis-jenis SQL Injection

1. **In-band SQLi:** Data hasil serangan langsung terlihat di respons aplikasi.
   - _Error-based SQLi_: Memanfaatkan pesan error dari database.
   - _Union-based SQLi_: Menggunakan UNION untuk menggabungkan hasil query.
2. **Inferential (Blind) SQLi:** Tidak ada output langsung, penyerang mengamati perubahan perilaku aplikasi.
   - _Boolean-based_: Mengamati perubahan respons aplikasi (benar/salah).
   - _Time-based_: Mengamati delay waktu respons.
3. **Out-of-Band (OOB) SQLi:** Data dieksfiltrasi melalui channel lain (misal DNS, HTTP).

## Cara Mencegah SQL Injection

- **Gunakan Prepared Statements (Parameterized Query):** Pisahkan data dan perintah SQL.
- **Validasi & Sanitasi Input:** Jangan percaya input dari pengguna.
- **Batasi Hak Akses Database:** Gunakan user DB dengan hak minimum.
- **Gunakan ORM:** Framework ORM biasanya sudah aman dari SQLi.
- **Nonaktifkan pesan error detail di produksi.**

## Contoh Query Aman

```php
// Contoh prepared statement di PHP (PDO)
$stmt = $pdo->prepare("SELECT * FROM users WHERE username = ?");
$stmt->execute([$username]);
```
